<!DOCTYPE html>
<html>
  <head>
    <title>Interactive 3D Garbage Bin</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
    />
  </head>
  <body class="m-0 p-2 font-sans inline-block gap-5">
    <!-- MENERAPKAN VBO (BUFFER DATA), VERTEX SHADER, DAN FRAGMENT SHADER.-->
    <h1 class="font-bold underline mb-5">TUGAS 1 GRAFIKA KOMPUTER</h1>
    <h2 class="font-bold">
      Anggota Kelompok :
      <span class="font-normal"> 1. Alvin Zanua Putra - 5025231064</span>
    </h2>
    <h2 class="ml-40">2. Christoforus Indra Bagus Pratama - 5025231124</h2>
    <canvas id="gl-canvas" width="400" height="400"></canvas>
    <button class="border border-black p-1 m-5" onclick="resetTransforms()">
      Kembalikan Semula
    </button>
    <div class="flex items-center p-5 h-fit">
      <div class="mb-5 p-4">
        <div class="my-3">
          <label for="rotateX" class="block mb-2 font-bold text-gray-600"
            >Rotate X-Axis:</label
          >
          <input
            type="range"
            id="rotateX"
            class="w-full h-2 rounded-sm bg-gray-300 outline-none opacity-70 hover:opacity-100 transition-opacity duration-200"
            min="0"
            max="360"
            value="30"
          />
          <div
            class="text-center font-bold text-gray-800 mt-2"
            id="rotateX-value"
          >
            30°
          </div>
        </div>
        <div class="my-3">
          <label for="rotateY" class="block mb-2 font-bold text-gray-600"
            >Rotate Y-Axis:</label
          >
          <input
            type="range"
            id="rotateY"
            class="w-full h-2 rounded-sm bg-gray-300 outline-none opacity-70 hover:opacity-100 transition-opacity duration-200"
            min="0"
            max="360"
            value="30"
          />
          <div
            class="text-center font-bold text-gray-800 mt-2"
            id="rotateY-value"
          >
            30°
          </div>
        </div>
      </div>

      <div class="mb-5 p-4">
        <div class="my-3">
          <label for="translateX" class="block mb-2 font-bold text-gray-600"
            >Translate X-Axis:</label
          >
          <input
            type="range"
            id="translateX"
            class="w-full h-2 rounded-sm bg-gray-300 outline-none opacity-70 hover:opacity-100 transition-opacity duration-200"
            min="-5"
            max="5"
            value="0"
            step="0.1"
          />
          <div
            class="text-center font-bold text-gray-800 mt-2"
            id="translateX-value"
          >
            0.0
          </div>
        </div>
        <div class="my-3">
          <label for="translateY" class="block mb-2 font-bold text-gray-600"
            >Translate Y-Axis:</label
          >
          <input
            type="range"
            id="translateY"
            class="w-full h-2 rounded-sm bg-gray-300 outline-none opacity-70 hover:opacity-100 transition-opacity duration-200"
            min="-5"
            max="5"
            value="0"
            step="0.1"
          />
          <div
            class="text-center font-bold text-gray-800 mt-2"
            id="translateY-value"
          >
            0.0
          </div>
        </div>
      </div>
    </div>
    <!-- Vertex Shader -->
    <script id="vertex-shader" type="x-shader/x-vertex">
      #version 300 es

      in vec4 aPosition;
      in vec4 aColor;
      out vec4 vColor;

      uniform vec3 uTheta;
      uniform vec2 uTranslation;

      void main()
      {
          vec3 angles = radians(uTheta);
          vec3 c = cos(angles);
          vec3 s = sin(angles);

          // Rotation matrices (column-major)
          mat4 rx = mat4(1.0,  0.0,  0.0, 0.0,
                         0.0,  c.x,  s.x, 0.0,
                         0.0, -s.x,  c.x, 0.0,
                         0.0,  0.0,  0.0, 1.0);

          mat4 ry = mat4( c.y, 0.0, -s.y, 0.0,
                          0.0, 1.0,  0.0, 0.0,
                          s.y, 0.0,  c.y, 0.0,
                          0.0, 0.0,  0.0, 1.0);

          // Translation matrix
          mat4 translation = mat4(1.0, 0.0, 0.0, 0.0,
                                 0.0, 1.0, 0.0, 0.0,
                                 0.0, 0.0, 1.0, 0.0,
                                 uTranslation.x, uTranslation.y, 0.0, 1.0);

          vColor = aColor;
          gl_Position = translation * rx * ry * aPosition;
          gl_Position.z = -gl_Position.z;
      }
    </script>

    <script id="fragment-shader" type="x-shader/x-fragment">
      #version 300 es

      precision mediump float;

      in vec4 vColor;
      out vec4 fColor;

      void
      main()
      {
          fColor = vColor;
      }
    </script>
    <script src="./assets/js/initShaders.js"></script>
    <script src="./assets/js/MVnew.js"></script>
    <!-- <script src="./assets/js/object.js"></script> -->
    <script src="./assets/js/cobaGarbage.js"></script>
  </body>
</html>
